<div itemscope itemtype="http://schema.org/CreativeWork" ng-class="{'editing': editConfig.isEditing}" class="not-editing">

  <div sx-content-header class="sx-content-header">
    <sx-header-name class="editable-half">
      <span ng-class="{'edit-border-blue edit-field': editConfig.canManage()}" sx-editable-text="model.name" buttons="no" can-edit="editConfig.isEditing && editConfig.canManage()" blur-saves>
                {{model.name | characters:54 :true}}<span style="display: inline-flex; vertical-align: top"><span ng-if="editConfig.isEdited('name')" class="withSIX-icon-Alert" style="color: red; font-size: 20px;"></span></span>
      </span>
    </sx-header-name>

    <sx-header-type>
      <a ng-href="{{header.contentRootUrl}}">
        <span class="withSIX-icon-Nav-Mission"></span> Mission
      </a>
    </sx-header-type>

    <div name="follow-info">
      {{model.followersCount | amount}} followers.
      <span ng-if="w6.userInfo.id">
                <button class="anchor" ng-click="toggleFollow()"
                        type="button">
                    <span class="icon withSIX-icon-Follow"></span> {{followedMissions[model.id] ? 'Unfollow' : 'Follow'}}
      </button>
      </span>
      <button class="anchor" type="button" ng-click="openLoginDialog($event)" ng-if="!w6.userInfo.id">
        <span class="icon withSIX-icon-Follow"></span> Login to {{followedMissions[model.id] ? 'Unfollow' : 'Follow'}}
      </button>
    </div>

    <sx-header-info>
      <ul>
        <li>
          <span class="main" itemprop="version" title="v{{model.latestVersion.version}}">v{{model.latestVersion.version}}</span> <span itemprop="dateModified">{{model.latestVersion.releasedOn | date:"dd MMM 'yy"}}</span></li>
        <li title="{{model.latestVersion.size | size:'B':false}} unpacked" ng-bind-html="model.latestVersion.sizePacked | size"></li>
        <li>
          <span class="main">{{model.followersCount | amount}}</span> <span>followers</span></li>
      </ul>
    </sx-header-info>

    <sx-header-download>
      <div class="action download">
        <button ng-click="callToAction()" class="anchor calltoactionBase btn-block">
          <span class="icon withSIX-icon-Download" title="Download"></span>
          <span class="text">Download</span>
        </button>
        <!-- <sx-aurelia sx-view-model="'features/profile/content/mission'" sx-view="'features/profile/content/_action.html'" sx-model="auModel"></sx-aurelia> -->
      </div>
    </sx-header-download>

    <sx-header-logo>
      <sx-aurelia sx-view-model="'features/profile/content/mission'" sx-view="'features/profile/content/_logo2.html'" sx-model="auModel"></sx-aurelia>
    </sx-header-logo>
  </div>

  <div id="mission-contents" app-view-segment="2"></div>
</div>
