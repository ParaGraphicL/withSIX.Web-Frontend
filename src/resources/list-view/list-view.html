<template>
  <slot name="prepend-items"></slot>
  
  <template if.bind="items">
    <ul class.bind="listCls" if.bind="!isVirtual">
      <li repeat.for="item of items">
        <template replaceable part="item-template">
          <compose class="content-basketable" model.bind="item" view.bind="view" view-model="${viewPath}${item.type || itemType}"></compose>
        </template>
      </li>
      <compose view="./list-view-item-ads.html"></compose>
    </ul>
    <ul class.bind="listCls" if.bind="isVirtual" class="virtual-container">
      <li virtual-repeat.for="item of items" class="virtual-row">
        <template replaceable part="item-template">
          <compose class="content-basketable" model.bind="item" view.bind="view" view-model="${viewPath}${item.type || itemType}"></compose>
        </template>
      </li>
      <compose view="./list-view-item-ads.html"></compose>
    </ul>
  </template>

  <template if.bind="itemsMap">
    <ul class.bind="listCls" if.bind="!isVirtual">
      <li repeat.for="[key, item] of itemsMap">
        <template replaceable part="item-template">
          <compose class="content-basketable" model.bind="item" view.bind="view" view-model="${viewPath}${item.type || itemType}"></compose>
        </template>
      </li>
      <compose view="./list-view-item-ads.html"></compose>
    </ul>
    <ul class.bind="listCls" if.bind="isVirtual" class="virtual-container">
      <li virtual-repeat.for="item of itemsMap | mapToAry" class="virtual-row">
        <template replaceable part="item-template">
          <compose class="content-basketable" model.bind="item" view.bind="view" view-model="${viewPath}${item.type || itemType}"></compose>
        </template>
      </li>
      <compose view="./list-view-item-ads.html"></compose>
    </ul>
  </template>
  <slot name="additional-items"></slot>
</template>
