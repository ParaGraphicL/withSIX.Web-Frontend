<template show.bind="!hideWhenEmpty || isVisible">
  <ul class.bind="orientation" class="menu">
    <li repeat.for="item of items" show.bind="item.isVisible" class="${item.isSeparator ? 'separator' : 'item'}">
      <!-- This is basically the command button, but we don't use it because we want to be able to pass our own menu-item template -->
      <button if.one-time="!item.isSeparator" command.bind="item.action" class.bind="item.cls" class="anchor ${$parent.itemCls}" title="${item.tooltip ? item.tooltip : ''}" click.delegate="clicked($event)">
        <span>
          <template replaceable part="menu-item">
            <compose view="./dropdown-default-item.html"></compose>
          </template>
        </span>
        <span class="fa fa-spinner fa-spin" title.bind="item.name" if.bind="item.action.isExecuting && !noProcessing"></span>
      </button>
      <hr if.one-time="item.isSeparator" />
    </li>
  </ul>
</template>
