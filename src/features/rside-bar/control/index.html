<template>
  <!--<require from="./index.scss"></require>-->

  <header class="tab-header">
    <span class="main-text">${model.header}</span>
  </header>

  <hr />

  <!--<action-bar class="main header-items" orientation="vertical" items.bind="topBarItems"></action-bar>-->

  <!--<hr />-->

  <div class="the-content" scroll.trigger="closeDropdowns()">
    <div>
      <command-button model.bind="start"></command-button>
      <command-button model.bind="stop"></command-button>
      <command-button model.bind="restart"></command-button>
      <command-button model.bind="prepare"></command-button>

      <hr />

      <div show.bind="saving">Saving...</div>

      <div show.bind="isRunning">
        <h3>Scaling</h3>

        <selectbox class="required" value.bind="selectedSize" options.bind="sizes">
          Scale size
          <template replace-part="item-template">
            <option model.bind="o">${o.title || o} ${o.cost}/hr ${o.baseSlots} slots</option>
          </template>
        </selectbox>
        <rangeboxadv value.bind="additionalSlots" step.one-time="8" min.one-time="0" max.bind="selectedSize.maxSlots - selectedSize.baseSlots"
          if.bind="selectedSize.baseSlots !== selectedSize.maxSlots">
          Additional slots@2/pack of 8 slots
        </rangeboxadv>

        ${additionalSlots} additional slots
        <command-button model.bind="scale"></command-button>
        <hr />
      </div>
    </div>

    <div if.bind="jobState && jobState.state">
      <h2>Progress</h2>
      <ul>
        <li>State: ${State[jobState.state]}</li>
        <li if.bind="jobState.address">
          Address: ${jobState.address}
          <a href="/p/${w6.activeGame.slug}/servers/${jobState.address.replace(/\./g, '-')}/${server.name.sluggify()}">Server Page (WIP)</a>
        </li>
        <li if.bind="jobState.endtime">
          Ends
          <time-ago time.bind="jobState.endtime"></time-ago>
        </li>
      </ul>
      <i show.bind="jobState.state < 7000">This will take about 2-10 minutes, depending on the amount of Content you've selected and Server size.</i>
    </div>

    <div if.bind="features.serverRemoteControl">
      <hr />
      <command-button model.bind="lock"></command-button>
      <command-button model.bind="unlock"></command-button>
      <h3>Players</h3>
      <ul>
        <li repeat.for="p of players">${p.name} <button>Kick</button> <button>Ban</button></li>
      </ul>
    </div>
  </div>

  <!--<button class="naked-button default bottom" click.delegate="openLibrary()">Open Full Library</button>-->
</template>
