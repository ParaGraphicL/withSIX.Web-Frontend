<template>
  <!--<require from="./index.scss"></require>-->

  <header class="tab-header">
    <span class="main-text">${model.header}</span>
  </header>

  <hr />

  <!--<action-bar class="main header-items" orientation="vertical" items.bind="topBarItems"></action-bar>-->

  <!--<hr />-->

  <div class="the-content" scroll.trigger="closeDropdowns()">
    <form>
      <selectbox value.bind="m.location" options.bind="locations" disabled.bind="true">
        Location
        <template replace-part="item-template">
          <option model.bind="o.value">${o.title || o}</option>
        </template>
      </selectbox>

      <selectbox value.bind="m.size" options.bind="sizes">
        Size
        <template replace-part="item-template">
          <option model.bind="o.value">${o.title || o}</option>
        </template>
      </selectbox>

      <div>
        <div show.bind="m.secondaries.length > 0">
          <h3>Headless clients</h3>
          <div repeat.for="s of m.secondaries">
            <selectbox value.bind="s.size" options.bind="sizes">
              Size
              <template replace-part="item-template">
                <option model.bind="o.value">${o.title || o}</option>
              </template>
            </selectbox>
            <button class="ignore-close" click.delegate="removeSecondary(s)">X</button>
          </div>
        </div>
        <button class="ignore-close" click.delegate="addSecondary()" show.bind="m.secondaries.length < 1">Add headless client</button>
      </div>

      <textbox value.bind="m.name" placeholder="name of the server">Name</textbox>
      <textbox value.bind="m.password" placeholder="optional password">Password <button click.delegate="generateServerPassword()" class="ignore-close pull-right">Generate</button></textbox>
      <textbox value.bind="m.adminPassword" placeholder="admin password">Admin Password <button click.delegate="generateAdminPassword()" class="ignore-close pull-right">Generate</button></textbox>
    </form>

    <div>Available credit: ${m.credit} SU</div>
    <div>Runtime with this setup: ${hours | time}</div>
    <button class="naked-button default ignore-close" click.delegate="next()">Next</button>
    <button class="naked-button default ignore-close" click.delegate="done()">Done</button>
  </div>
</template>
